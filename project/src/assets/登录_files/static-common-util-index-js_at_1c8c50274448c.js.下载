(self.webpackChunkwaimai_c_openh5=self.webpackChunkwaimai_c_openh5||[]).push([["static-common-util-index-js"],{13929:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});n(12419);var a=n(22122),o=n(96156),r=n(6610),i=n(5991),c=n(63349),l=n(10379),s=n(46070),u=n(77608),d=(n(21249),n(67294)),m=n(45697),h=n.n(m),p=n(74004),g=n(29697),f=n(94184),E=n.n(f),v=n(36663),P=n(70577),T=n(51131);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}var w="alert",y=P.Z.newInstance(),R=function(e){(0,l.Z)(n,e);var t=O(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).onClick=a.onClick.bind((0,c.Z)(a)),a}return(0,i.Z)(n,[{key:"onClick",value:function(){var e=this.props,t=e.index;(0,e.callback)(t)}},{key:"render",value:function(){var e=this.props,t=e.txt,n=e.customClass,a=e.highlight;return d.createElement("div",{key:t,onClick:this.onClick,className:E()(T.Z.text,T.Z.btnTxt,T.Z.btnItem,(0,o.Z)({},T.Z.highlight,a),(0,o.Z)({},n,!!n))},t)}}]),n}(d.Component),N=function(e){(0,l.Z)(n,e);var t=O(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).state={hide:!1},a.onBtnClick=a.onBtnClick.bind((0,c.Z)(a)),a.close=a.close.bind((0,c.Z)(a)),a.onOverlayClick=a.onOverlayClick.bind((0,c.Z)(a)),a}return(0,i.Z)(n,[{key:"onBtnClick",value:function(e){var t=this.props.callback;this.close((function(){t(e)}))}},{key:"onOverlayClick",value:function(){this.props.clickOverlayToDismiss&&this.close()}},{key:"close",value:function(e){this.setState({hide:!0}),setTimeout((function(){y.removeNode(w),e()}),200)}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.message,i=t.btnList,c=t.theme;return d.createElement("div",{className:E()(T.Z.dddAlert,"ddd-alert")},d.createElement(v.Z,{hide:this.props.hide,onClickCb:this.onOverlayClick}),d.createElement(p.Z,null,this.state.hide?null:d.createElement(g.Z,{classNames:{appear:T.Z.alertAppear,appearActive:T.Z.alertAppearActive,exit:T.Z.alertExit,exitActive:T.Z.alertExitActive},key:"dddalert",appear:!0,exit:!0,enter:!1,timeout:200},d.createElement("div",{className:E()(T.Z.main,(0,o.Z)({},T.Z.mt,"mt"===c),(0,o.Z)({},T.Z.mt1,"mt1"===c))},d.createElement("div",{className:E()(T.Z.content,"content")},n?d.createElement("div",{className:E()(T.Z.text,T.Z.title,"title")},n):d.createElement("div",null),d.createElement("div",{className:E()(T.Z.text,T.Z.message,(0,o.Z)({},T.Z.sub,!!n),"message")},r)),d.createElement("div",{className:E()(T.Z.btnList,(0,o.Z)({},T.Z.rowDirection,i.length<=2),(0,o.Z)({},T.Z.columnDirection,i.length>2))},i.map((function(t,n){return d.createElement(R,(0,a.Z)({key:t.txt},t,{index:n,callback:e.onBtnClick}))})))))))}}],[{key:"show",value:function(e){y.appendNode({key:w,duration:0,content:d.createElement(n,e)})}}]),n}(d.Component);N.propTypes={title:h().string,message:h().string.isRequired,btnList:h().arrayOf(h().shape({txt:h().string.isRequired,highlight:h().bool,customClass:h().string})).isRequired,theme:h().oneOf(["mt","mt1","dp"]),clickOverlayToDismiss:h().bool,callback:h().func},N.defaultProps={title:"",callback:function(){},clickOverlayToDismiss:!1,theme:"mt"}},65996:function(e,t,n){"use strict";var a=n(14678);t.Z=function(e){if(e)if(a.Hc&&window.swan)window.swan.makePhoneCall({phoneNumber:e});else{var t=document.createElement("a");t.setAttribute("href","tel:".concat(e)),document.body.appendChild(t),setTimeout((function(){t.click()}),300)}}},61034:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(74916),n(64765),n(9653),n(82772),n(17563),n(65743);var a=n(11776),o={modules:["m","weixin","wxwallet","qq","qqwallet","qqnetbar","newmnative","wxqq"],settings:{wxqq:{loadHeader:!1,headerBackBtn:!1,searchNeed:!0,loadMy:!0,loadToTop:!1,channel:29,source:60025,keyword:2,acceptParams:!0,ajaxPathName:"wxqq",pagePathName:"wxqq",defaultPage:"index",hideViewOrderBtn:!1,geoType:1,promotionev:"wx",loadPay:!0,accountType:a.Z.ACCOUNT_TYPE.MT},wxwallet:{loadHeader:!1,headerBackBtn:!1,searchNeed:!0,loadMy:!0,loadToTop:!1,channel:24,source:60007,keyword:2,acceptParams:!0,ajaxPathName:"wxwallet",pagePathName:"wxwallet",defaultPage:"index",hideViewOrderBtn:!1,geoType:1,promotionev:"wx",loadPay:!0,accountType:a.Z.ACCOUNT_TYPE.MT,isUseNewPromo:!0},m:{loadHeader:!0,headerBackBtn:!0,searchNeed:!0,loadMy:!0,loadToTop:!0,channel:6,source:60009,keyword:1,acceptParams:!1,ajaxPathName:"newm",pagePathName:"mindex",defaultPage:"index",hideViewOrderBtn:!1,geoType:1,promotionev:"m",loadPay:!0,accountType:a.Z.ACCOUNT_TYPE.DP},weixin:{loadHeader:!1,headerBackBtn:!1,searchNeed:!0,loadMy:!0,loadToTop:!1,channel:8,source:60007,keyword:2,acceptParams:!0,ajaxPathName:"weixin",pagePathName:"weixin",defaultPage:"index",hideViewOrderBtn:!1,geoType:1,promotionev:"wx",loadPay:!0,accountType:a.Z.ACCOUNT_TYPE.DP},qq:{loadHeader:!1,headerBackBtn:!1,searchNeed:!0,loadMy:!0,loadToTop:!0,channel:13,source:60005,keyword:7,acceptParams:!0,ajaxPathName:"qq",pagePathName:"qq",defaultPage:"index",hideViewOrderBtn:!0,loadPay:!0,geoType:2,promotionev:"qq",initQQShare:!0,accountType:a.Z.ACCOUNT_TYPE.MT,isUseNewPromo:!0},qqwallet:{loadHeader:!1,headerBackBtn:!1,searchNeed:!0,loadMy:!0,loadToTop:!0,channel:19,source:60009,keyword:9,acceptParams:!1,ajaxPathName:"qqwallet",pagePathName:"qqwallet",defaultPage:"index",hideViewOrderBtn:!1,loadPay:!0,geoType:2,promotionev:"qq",initQQShare:!0,accountType:a.Z.ACCOUNT_TYPE.MT,isUseNewPromo:!0,entranceGeoInfo:["ilat","ilon","gpstype","0","1"]},qqnetbar:{loadHeader:!1,headerBackBtn:!1,searchNeed:!0,loadMy:!0,loadToTop:!0,channel:25,keyword:10,acceptParams:!1,ajaxPathName:"qqnetbar",pagePathName:"qqnetbar",defaultPage:"index",loadPay:!0,geoType:2,promotionev:"qq",initQQShare:!0,qqnetbar:!0,accountType:a.Z.ACCOUNT_TYPE.MT,isUseNewPromo:!0},newmnative:{loadHeader:!1,headerBackBtn:!1,searchNeed:!0,loadMy:!0,loadToTop:!0,channel:28,keyword:1,acceptParams:!1,ajaxPathName:"newmnative",pagePathName:"newmnative",defaultPage:"index",loadPay:!0,geoType:1,promotionev:"m"}}};function r(e){return o.modules.indexOf(e)<0?o.settings.m:o.settings[e]}},11776:function(e,t){"use strict";t.Z={ADDRESS_HISTORY:"orderAddrHistory",CHANNEL:{M_SITE:"m",WEIXIN:"weixin",WXWALLET:"wxwallet",QQWALLET:"qqwallet",QQ:"qq",NEWMNATIVE:"newmnative"},COORD_TYPE:{GPS:"wgs84",MARS:"gcj02"},LOGIN_MAKER:"/thirdlogin/auth?aType=3&np=3&nac=1&bizType=1&rurl=",CACHED_CART_DATA:"cached_cart_data",CUSTOM_BILL:"cached_custom_bill",MENU_SEARCH_HISTORY:"menu_search_history",ORDER_CREATE:"orderCreate",DELIVERY_TYPE:{MT_DELIVERY:1,NON_MT_DELIVERY:0},ACCOUNT_TYPE:{MT:"MT",DP:"DP"},REDIRECTTFROM:{LOGIN:1,PHONEVAL:2},QQNETBAR_USERINFO:"QQNETBAR_USERINFO",CODE:{SUCCESS:0,FAIL:1,REMIND:2},SUBCODE:{PHONE_BIND:3,NEED_LOGIN:4,SEND_CODE:5,WEI_LOGIN:6,NEED_MTLOGIN:7,ERROR_402:402,ERROR_403:403,ERROR_404:404,ERROR_405:405},SUBTYPE:{NEED_LOGIN:3,PHONE_BIND:4},VALIDATEFROM:{PREVIEW:1,SUBMIT:2},ERROR_OBJS:{TELS_ERROR:{content:["您的账号存在安全隐患,","请拨打客服电话10107888咨询解决"],closeContent:"暂不",btn:{content:"联系客服",href:"tel:10107888"}},UNLOCK_ERROR:{content:["您的账号存在安全隐患,",'请访问<a href="http://i.meituan.com">i.meituan.com</a>进行解锁'],closeContent:"知道了"}},REDPACKETTYPE:{NEEDLOGIN:4,MTLOGIN:7,NOCON:9,FAILED:3,RECEIVED:2},SEO:{SOURCE:"seoentrance",KEY:"seoparam"}}},42215:function(e,t,n){"use strict";n.d(t,{cE:function(){return h}});n(74916),n(4723),n(82772),n(23123),n(47042),n(21249),n(47941),n(92222),n(15306),n(24603),n(39714),n(19601),n(64765),n(57327),n(89554),n(54747),n(36210),n(41539);var a=n(93949),o=n.n(a),r=n(17563),i=n(13929),c=n(52541),l=n(47906),s=n.n(l),u=n(11776),d=n(38657),m=n(65996);function h(e,t){if(t instanceof Error){var n={};return Object.getOwnPropertyNames(t).forEach((function(e){n[e]=t[e]})),n}return t}t.ZP={isInMobileQQ:function(){return navigator.userAgent.match(/(.*?(iPad|iPhone|iPod).*?QQ\/([\d.]+).*?)|(.*?\bV1_AND_SQI?_([\d.]+)(.*?QQ\/([\d.]+))?.*?)/i)},isInWeixin:function(){return navigator.userAgent.match(/micromessenger/i)},isInAndroid:function(){var e=navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Adr")>-1},isInIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},isInSafari:function(){return navigator.userAgent.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/)},getParams:function(e,t){var n=e||window.location.href;return function(e,t){for(var n,a={},o=e.split(t||"&"),r=0;r<o.length;r+=1)a[(n=o[r].split("="))[0]]=decodeURIComponent(n[1]);return a}(n.slice(n.indexOf(t||"?")+1))},getParamsStr:function(e){var t="";return Object.keys(e).map((function(n){return t+=""===t?"?":"&",t+="".concat(n,"=").concat(e[n]),n})),t},getParamsEncodeURIComponentStr:function(e){var t="";return Object.keys(e).map((function(n){return t+=""===t?"?":"&",t+="".concat(n,"=").concat(encodeURIComponent(e[n])),n})),t},getParamsStrForMinSpa:function(e){var t="";return Object.keys(e).map((function(n){return t+=""===t?"/":",",t+="".concat(n,"=").concat(e[n]),n})),t},formatFee:function(e,t){return t=t||2,Math.round(e*Math.pow(10,t))/Math.pow(10,t)},loadScriptAsync:function(e,t){var n=document.createElement("script");n.src=e,n.onload=t,n.onerror=function(){},document.body.appendChild(n)},getOrderDetailUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=o().usablePOI||{},i=r.lat,c=void 0===i?"":i,l=r.lng,s=void 0===l?"":l;return"".concat(location.protocol,"//").concat(document.domain,"/waimai/").concat(e,"/order-detail?orderPlatform=").concat(a,"&latitude=").concat(c,"&longitude=").concat(s,"&initialLat=").concat(o().pickedLat||"","&initialLng=").concat(o().pickedLng||"","&actualLat=").concat(o().geoLat||"","&actualLng=").concat(o().geoLng||"","&orderId=").concat(t,"&mtOrderViewId=").concat(n)},handleDpUuid:function(){return(s()("iuuid")||s()("_hc.v")||"").replace(new RegExp(/(\")/g),"").split(".")[0]},getDetailUrl:function(e,t){return"".concat(window.location.protocol,"//").concat(document.domain,"/waimai/").concat(e,"/menu?").concat(r.stringify(t))},goMtLogin:function(e){var t=Object.assign({},{url:"",forceAuth:0,errJudge:!1,replace:!1,pagePathName:"wxwallet",poiid:"",virtualBindTicket:"",signature:""},e);if(t.forceAuth=t.forceAuth?1:0,t.errJudge&&sessionStorage.getItem("errjudge"))/fromthird/.test(window.location.href)?c.Z.show("网络异常，请稍后再试",0):(sessionStorage.removeItem("errjudge"),location.replace("".concat(location.protocol,"//").concat(document.domain,"/waimai/").concat(t.pagePathName).concat(location.search,"#!index/source=mine")));else{var n=location.search||"?placeholder=1";t.errJudge&&sessionStorage.setItem("errjudge",!0);var a=t.url||"".concat(location.protocol,"//").concat(document.domain+location.pathname+n);login.mtlogin({forceAuth:e.forceAuth,url:a,pagePathName:t.pagePathName,poiId:t.poiid,actualLat:o().geoLat||"",actualLng:o().geoLng||"",virtualBindTicket:t.virtualBindTicket,signature:t.signature},{replace:t.replace})}},displayErrorDlg:function(e){e===u.Z.SUBCODE.ERROR_402||e===u.Z.SUBCODE.ERROR_405?i.Z.show({message:React.createElement("div",null,"您的账号存在安全隐患,",React.createElement("br",null),"请拨打客服电话10107888咨询解决"),btnList:[{txt:"暂不"},{txt:React.createElement("a",{onClick:function(){return(0,m.Z)("10107888")}},"联系客服"),highlight:!0}]}):e!==u.Z.SUBCODE.ERROR_403&&e!==u.Z.SUBCODE.ERROR_404||i.Z.show({message:React.createElement("div",null,"您的账号存在安全隐患,",React.createElement("br",null),"请访问",React.createElement("a",{href:"//i.meituan.com"},"i.meituan.com"),"进行解锁"),btnList:[{txt:"知道了",highlight:!0}]})},fixedFee:function(e){if("function"==typeof e.toFixed){var t=String(e).split(".");if(t.length>1&&t[1].length>2){var n=e.toFixed(2);return String(n).split(".").length>1&&"00"===t[1]?+t[0]:+n}}return e},isPageLoadByRefresh:function(){var e=!1;return window.performance&&window.performance.navigation&&1===window.performance.navigation.type&&(e=!0),e},getConcatSet:function(e,t,n){var a={};e.map((function(e){return a[e[n]]=!0,e}));var o=t.filter((function(e){return!0!==a[e[n]]}));return e.concat(o)},getParamsObject:function(e){var t=e.split("&"),n={};return t.forEach((function(e){var t=e.split("=")[0],a=decodeURIComponent(e.split("=")[1]);n[t]=a})),n},getDpMOrigin:function(){var e,t=location.protocol;return e=d.Z.isProd()?"m.dianping.com":"m.51ping.com","".concat(t,"//").concat(e)},getMtMOrigin:function(){var e,t=location.protocol;return d.Z.isProd()?e="open.meituan.com":(t="http:",e="thirdlogin.wpt.test.sankuai.com"),"".concat(t,"//").concat(e)},filterHtmlString:function(e){return(e||"").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&reg;/g,"®").replace(/&trade;/g,"™").replace(/&copy;/g,"©").replace(/&times;/g,"×").replace(/&divide;/g,"÷").replace(/&yen;/g,"¥")},sumFormateToStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sum,n=void 0===t?0:t,a=e.maxSum,o=void 0===a?9999:a,r=e.char,i=void 0===r?"+":r;return n>o?o+i:n},compareVersion:{eq:function(e,t){return e===t},gt:function(e,t){var n=e?e.split("."):[],a=t?t.split("."):[];return[0,1,2].forEach((function(e){n[e]=n[e]||0,a[e]=a[e]||0})),+n[0]!=+a[0]?+n[0]>+a[0]:+n[1]!=+a[1]?+n[1]>+a[1]:+n[2]>+(a[2]||0)},lt:function(e,t){return!this.gte(e,t)},gte:function(e,t){return this.eq(e,t)||this.gt(e,t)},lte:function(e,t){return this.eq(e,t)||this.lt(e,t)}}}},65743:function(e,t,n){"use strict";n(54678),n(41539),n(88674),n(19601);var a=n(29128),o=n.n(a),r=n(11776),i=3.141592653589793,c=6378245,l=.006693421622965943;function s(e,t,n){var a="string"==typeof e?parseFloat(e):e,o="string"==typeof t?parseFloat(t):t;if(n===r.Z.COORD_TYPE.GPS){if(function(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1}(a,o))return{geotype:r.Z.COORD_TYPE.MARS,lng:"".concat(a),lat:"".concat(o)};var s=function(e,t){var n=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*i)+20*Math.sin(2*e*i))/3,n+=2*(20*Math.sin(t*i)+40*Math.sin(t/3*i))/3,n+2*(160*Math.sin(t/12*i)+320*Math.sin(t*i/30))/3}(a-105,o-35),u=function(e,t){var n=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*i)+20*Math.sin(2*e*i))/3,n+=2*(20*Math.sin(e*i)+40*Math.sin(e/3*i))/3,n+2*(150*Math.sin(e/12*i)+300*Math.sin(e/30*i))/3}(a-105,o-35),d=o/180*i,m=Math.sin(d);m=1-l*m*m;var h=Math.sqrt(m),p=o+(s=180*s/(c*(1-l)/(m*h)*i)),g=a+(u=180*u/(c/h*Math.cos(d)*i));return{geotype:r.Z.COORD_TYPE.MARS,lng:"".concat(g),lat:"".concat(p)}}return{geotype:r.Z.COORD_TYPE.MARS,lng:"".concat(a),lat:"".concat(o)}}var u=1e4;function d(e){u=+e.timeout||u,o().config(e)}function m(e){return e&&d(e),new Promise((function(e,t){o()((function(t){if(t.geoType===r.Z.COORD_TYPE.GPS){var n=s(t.lng,t.lat,t.geoType);e(Object.assign({},t,{lat:n.lat,lng:n.lng,geotype:r.Z.COORD_TYPE.MARS,geoType:r.Z.COORD_TYPE.MARS}))}else e(t)}),(function(e){t({whereamiErrLength:e&&e.length,whereamiErrMsg:e})}))}))}m.config=d}}]);